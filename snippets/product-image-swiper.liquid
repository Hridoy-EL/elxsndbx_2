<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <style>
        .container {
            width: 100%;
            margin: 0 auto;
            padding: 20px;
        }
        
        .product-swiper-container {
            width: 100%;
            margin-bottom: 30px;
            position: relative;
        }
        
        .product-swiper {
            display: flex;
            gap: 20px;
            height: 480px;
        }
        
        .swiper {
            width: 100%;
            height: 100%;
        }
        
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            display: flex;
            justify-content: center;
            /* align-items: center; */
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .swiper-slide:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .mySwiper2 {
            height: 100%;
            width: 80%;
            border-radius: 5px;
            overflow: hidden;
            order: 2;
        }
        
        .mySwiper {
            height: 100%;
            width: 18%;
            box-sizing: border-box;
        }
        
        .mySwiper .swiper-slide {
            width: 100px;
            height: 100px !important; /* 4 items with gap */
            opacity: 0.5;
            cursor: pointer;
        }

        .mySwiper2 .swiper-slide img {
            width: 480px;
            height: auto;
            aspect-ratio: 1 / 1;
        }
        
        .mySwiper .swiper-slide-thumb-active {
            opacity: 1;
        }
        
        .swiper-button-next, 
        .swiper-button-prev {
            display: block !important;
            color: #000 !important;
            transition: all 0.3s ease;
            /* align-content: center; */
            top: 105%;
        }

        .swiper-button-next {
            right: calc(((100% - 100px)/2) - 35px);
        }

        .swiper-button-prev {
            left: calc(((100% + 100px)/2) - 35px);
        }
        
        .swiper-button-next:after, 
        .swiper-button-prev:after {
            font-size: 12px !important;
            font-weight: bolder;
        }
        
        .swiper-button-next:hover, 
        .swiper-button-prev:hover {
            transform: scale(1.1);
        }

        .swiper-pagination {
            bottom: -30px !important;
            display: none !important;
        }

        .swiper-pagination-bullet {
            background: #F8F8F8 0% 0% no-repeat padding-box;
            opacity: 1;
            height: 10px;
            width: 10px;
        }

        .swiper-pagination-bullet-active {
            background: #E5E5E5 0% 0% no-repeat padding-box;
            opacity: 1;
            height: 10px;
            width: 10px;
        }
        
        .info-panel {
            background: rgba(30, 30, 50, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            width: 100%;
        }
        
        .info-panel h2 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .info-content {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .fix-details, .features {
            flex: 1;
            min-width: 300px;
        }
        
        .fix-details h3, .features h3 {
            color: #4dabf7;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        ul {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .features ul li:before {
            content: "âœ“";
            color: #51cf66;
            margin-right: 10px;
            font-weight: bold;
        }

        @media only screen and (max-width: 991px) {
            .mySwiper {
                display: none;
            }

            .product-swiper {
                height: 350px;
            }

            .mySwiper2 {
                width: 100%;
            }

            .mySwiper2 .swiper-slide img {
            width: 100%;
            height: auto;
            aspect-ratio: 1 / 1;
        }
            .swiper-button-next, 
            .swiper-button-prev {
                display: none !important;
            }

            .swiper-pagination {
                display: block !important;
            }
        }
        
        @media (max-width: 768px) {
            .product-swiper {
                flex-direction: column;
                height: 350px;
            }
            
            .mySwiper2, .mySwiper {
                width: 100%;
            }
            
            .mySwiper {
                height: 20%;
            }
            
            .mySwiper .swiper-slide {
                height: 100% !important;
                width: 23.5% !important;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
    <div class="container">
        <div class="product-swiper-container">
            <div class="product-swiper">
                <!-- Main Swiper -->
                <div class="swiper mySwiper2">
                    <div class="swiper-wrapper">
                        {% for media in product.media %}
                        <div class="swiper-slide">
                            <img src="{{ media.preview_image | image_url: width: 480 }}" alt="{{ media.alt }}" height="" width="">
                        </div>
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Thumbnail Swiper -->
                <div thumbsSlider="" class="swiper mySwiper">
                    <div class="swiper-wrapper">
                        {% for media in product.media %}
                        <div class="swiper-slide">
                            <img src="{{ media.preview_image | image_url: width: 100 }}" alt="{{ media.alt }}" height="" width="">
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer="defer"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize thumbnail swiper
            var thumbSwiper = new Swiper(".mySwiper", {
                direction: "vertical",
                spaceBetween: 15,
                slidesPerView: 4,
                // centeredSlides: true,
                // centeredSlidesBounds: true,
                freeMode: true,
                loop: true,
                watchSlidesProgress: true,
                breakpoints: {
                    768: {
                        direction: "vertical",
                        slidesPerView: 4
                    },
                    320: {
                        direction: "horizontal",
                        slidesPerView: 4
                    }
                }
            });
            
            // Initialize main swiper with thumbs control
            var mainSwiper = new Swiper(".mySwiper2", {
                spaceBetween: 10,
                centeredSlides: true,
                loop: true,
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                thumbs: {
                    swiper: thumbSwiper,
                },
                keyboard: {
                    enabled: true,
                },
                pagination: {
                    el: ".swiper-pagination",
                },
                breakpoints: {
                    991: {
                        slidesPerView: 1
                    },
                    900: {
                        spaceBetween: 10,
                        slidesPerView: 2.2
                    },
                    840: {
                        spaceBetween: 7,
                        slidesPerView: 2.1
                    },
                    768: {
                        slidesPerView: 1.9
                    },
                    640: {
                        slidesPerView: 1.7
                    },
                    540: {
                        slidesPerView: 1.5
                    },
                    460: {
                        slidesPerView: 1.3
                    },
                    360: {
                        spaceBetween: 7,
                        slidesPerView: 1.1
                    }
                }
            });
        });
    </script>